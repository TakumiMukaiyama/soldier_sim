# エージェント性格タイプ詳細

## 1. 概要

シミュレーションシステムでは、軍事環境における様々な兵士の個性を表現するため、6種類の性格タイプ（アーキタイプ）を実装しています。各アーキタイプは、スキルの成長率、POI（Point of Interest）選好度、能力値上限などに影響を与えます。

## 2. アーキタイプ一覧

### 2.1 武器専門家 (Weapon Specialist)

**説明**: 訓練や武器庫での作業を好む武器愛好家

**スキル倍率**:
- 武器技能: 1.5倍
- 管理能力: 0.8倍
- 社交性: 0.9倍
- パワー: 1.4倍

**POI選好度**:
- 訓練場: 2.0倍
- 武器庫: 2.5倍 (最高優先度)
- 屋外: 1.9倍
- 工房: 1.8倍
- 体力トレーニング: 1.4倍
- 事務所: 0.5倍 (最低優先度)

**行動傾向**: 武器の取り扱いや訓練に長時間を費やし、武器関連のスキルが非常に向上しやすい。管理業務や事務作業には興味が薄い。

### 2.2 天然リーダー (Natural Leader)

**説明**: 管理能力と戦略立案に長けた生まれながらのリーダー

**スキル倍率**:
- 武器技能: 1.0倍
- 管理能力: 1.6倍
- 社交性: 1.3倍
- パワー: 1.1倍

**POI選好度**:
- 事務所: 2.0倍 (最高優先度)
- 兵站: 1.9倍
- 通信センター: 1.8倍
- 図書館: 1.6倍
- 訓練場: 1.2倍
- 武器庫: 1.0倍 (平均)

**行動傾向**: 指導力と管理スキルが急速に向上し、コミュニケーション能力も高い。チーム運営や戦略策定に長けており、管理職に適している。

### 2.3 社交的 (Social Butterfly)

**説明**: コミュニケーションに秀でた非常に社交的な人物

**スキル倍率**:
- 武器技能: 0.9倍
- 管理能力: 1.2倍
- 社交性: 1.7倍
- パワー: 0.8倍

**POI選好度**:
- 娯楽施設: 2.2倍 (最高優先度)
- 通信センター: 2.1倍
- 食堂: 1.8倍
- 精神的施設: 1.5倍
- 屋外: 1.4倍
- 武器庫: 0.6倍 (最低優先度)

**行動傾向**: 人との交流を好み、社交スキルが非常に高まりやすい。チーム内の士気向上やコミュニケーション促進に貢献するが、武器訓練や体力トレーニングには興味が薄い。

### 2.4 学者 (Scholar)

**説明**: 勉強と戦略的計画を好む知性派タイプ

**スキル倍率**:
- 武器技能: 0.8倍
- 管理能力: 1.4倍
- 社交性: 1.0倍
- パワー: 0.7倍

**POI選好度**:
- 図書館: 2.5倍 (最高優先度)
- 事務所: 2.2倍
- 通信センター: 1.7倍
- 兵站: 1.6倍
- 精神的施設: 1.3倍
- 屋外: 0.6倍 (最低優先度)

**行動傾向**: 知識の獲得と分析に時間を費やし、管理能力が向上しやすい。戦略立案や情報分析に優れるが、体力系の活動や武器訓練には興味が薄い。

### 2.5 フィットネス愛好家 (Fitness Enthusiast)

**説明**: 高いエネルギーを持つ身体鍛錬重視タイプ

**スキル倍率**:
- 武器技能: 1.3倍
- 管理能力: 0.9倍
- 社交性: 1.1倍
- パワー: 1.6倍

**POI選好度**:
- 体力トレーニング: 2.5倍 (最高優先度)
- 屋外: 2.4倍
- 訓練場: 2.3倍
- 娯楽施設: 1.5倍
- 事務所: 0.4倍 (最低優先度)
- 休憩所: 0.6倍

**行動傾向**: 体力トレーニングと戸外活動に多くの時間を費やし、身体能力が急速に向上する。休息を嫌い、常に活動的だが、管理業務や事務作業には興味が薄い。

### 2.6 内向的 (Introvert)

**説明**: 個人作業と休息を好む静かなタイプ

**スキル倍率**:
- 武器技能: 1.1倍
- 管理能力: 1.0倍
- 社交性: 0.7倍
- パワー: 1.0倍

**POI選好度**:
- 休憩所: 2.0倍 (最高優先度)
- 図書館: 1.9倍
- 睡眠施設: 1.8倍
- 精神的施設: 1.7倍
- 工房: 1.6倍
- 娯楽施設: 0.5倍 (最低優先度)

**行動傾向**: 人との交流を避け、静かな環境での個人作業や休息を好む。社交性の成長は遅いが、集中力を必要とする任務に適している。

## 3. アーキタイプの影響システム

### 3.1 スキル上限への影響

各アーキタイプは、エージェントが達成できるスキル上限に影響します。

```python
def _apply_archetype_modifiers(self) -> None:
    """アーキタイプ固有の修正をスキル上限と選好度に適用する"""
    if self.archetype not in ARCHETYPES:
        return

    archetype_data = ARCHETYPES[self.archetype]
    multipliers = archetype_data["skill_multipliers"]

    # アーキタイプ乗数をベーススキル上限に適用
    self._skill_caps["weapon_strength"] *= multipliers.get("weapon_strength", 1.0)
    self._skill_caps["management_skill"] *= multipliers.get("management_skill", 1.0)
    self._skill_caps["sociability"] *= multipliers.get("sociability", 1.0)
    self._skill_caps["power"] *= multipliers.get("power", 1.0)

    # 上限が100.0を超えないようにする
    for skill in self._skill_caps:
        self._skill_caps[skill] = min(100.0, self._skill_caps[skill])
```

### 3.2 POI選好度への影響

アーキタイプは、エージェントがどのPOIを訪問したいかの選好度に大きく影響します。

```python
def get_poi_preference_multiplier(self, poi_category: str) -> float:
    """アーキタイプに基づく特定POIカテゴリの選好度乗数を取得"""
    if self.archetype not in ARCHETYPES:
        return 1.0

    archetype_data = ARCHETYPES[self.archetype]
    return archetype_data["poi_preferences"].get(poi_category, 1.0)
```

### 3.3 スキル成長への影響

POIの効果は、エージェントのアーキタイプに基づいて調整されます。

```python
# アーキタイプボーナスをスキル向上に適用
weapon_effect = poi_effects.get("weapon_strength", 0) * archetype_multipliers.get("weapon_strength", 1.0)
management_effect = poi_effects.get("management_skill", 0) * archetype_multipliers.get("management_skill", 1.0)
sociability_effect = poi_effects.get("sociability", 0) * archetype_multipliers.get("sociability", 1.0)
power_effect = poi_effects.get("power", 0) * archetype_multipliers.get("power", 1.0)
```

## 4. アーキタイプと性格特性の相互作用

エージェントの性格特性（協調性、勤勉性、外向性、神経症傾向、開放性）は、アーキタイプの効果と組み合わさり、より複雑な行動パターンを生み出します。

### 4.1 性格による成長率の調整

```python
# 個別成長率修飾子（性格 + ランダム性に基づく）
self._growth_modifiers = {
    "weapon_strength": 1.0 + (self.personality.get("conscientiousness", 0.5) - 0.5) * 0.4 + random.uniform(-0.2, 0.2),
    "management_skill": 1.0 + (self.personality.get("openness", 0.5) - 0.5) * 0.4 + random.uniform(-0.2, 0.2),
    "sociability": 1.0 + (self.personality.get("extroversion", 0.5) - 0.5) * 0.4 + random.uniform(-0.2, 0.2),
    "power": 1.0 + (self.personality.get("conscientiousness", 0.5) - 0.5) * 0.4 + random.uniform(-0.2, 0.2),
}
```

### 4.2 スキル減衰耐性の調整

```python
# 個別減衰率修飾子（怠惰な人はスキルを早く失う）
conscientiousness = self.personality.get("conscientiousness", 0.5)
self._decay_resistance = {
    "weapon_strength": 0.5 + conscientiousness * 0.5 + random.uniform(-0.1, 0.1),
    "management_skill": 0.5 + conscientiousness * 0.5 + random.uniform(-0.1, 0.1),
    "sociability": 0.7 + self.personality.get("agreeableness", 0.5) * 0.3 + random.uniform(-0.1, 0.1),
    "power": 0.5 + conscientiousness * 0.5 + random.uniform(-0.1, 0.1),
}
```

## 5. アーキタイプと行動パターンの関係

各アーキタイプには異なる行動パターンがあり、シミュレーションにおける兵士の日常活動に反映されます。

### 5.1 武器専門家の典型的な日課

- 早朝: 訓練場で基礎訓練
- 午前: 武器庫での武器メンテナンス
- 午後: 屋外での実践訓練
- 夕方: 工房での装備修理
- 夜間: 必要な休息と早期就寝

### 5.2 天然リーダーの典型的な日課

- 早朝: 軽い訓練
- 午前: 事務所での管理業務
- 午後: 兵站での計画立案
- 夕方: 通信センターでの情報共有
- 夜間: 図書館での戦略研究

### 5.3 社交的タイプの典型的な日課

- 早朝: 基本訓練
- 午前: 通信センターでのコミュニケーション
- 午後: 娯楽施設でのチーム活動
- 夕方: 食堂での社交的な食事
- 夜間: 共同活動または休息

## 6. シミュレーションでの活用方法

### 6.1 多様な部隊の構成

効果的な軍事シミュレーションでは、様々なアーキタイプをバランスよく配置することで、より現実的な組織力学を再現できます。

- 指揮官ポジション: 天然リーダー
- 前線部隊: 武器専門家とフィットネス愛好家
- 戦略部門: 学者と内向的タイプ
- 連絡・調整役: 社交的タイプ

### 6.2 シミュレーションパラメータの調整

アーキタイプ分布を調整することで、様々な軍事シナリオをテストできます：

- エリート部隊: 武器専門家とフィットネス愛好家の比率を高く
- 司令部: 天然リーダーと学者の比率を高く
- 通常部隊: バランスの取れた分布

## 7. アーキタイプ改善の方向性

### 7.1 新規アーキタイプの検討

今後のバージョンでは、以下のようなアーキタイプの追加が考えられます：

- 戦術家 (Tactician): 戦術的思考と緊急対応に長けた専門家
- 医療従事者 (Medical Officer): 治癒と支援に特化したタイプ
- エンジニア (Engineer): 技術的問題解決と装備改良に特化したタイプ

### 7.2 アーキタイプ間の相互作用の強化

- チームボーナス: 補完的なアーキタイプの組み合わせによる相乗効果
- メンタリング: 経験豊富なエージェントが若手に影響を与える仕組み
- 専門的訓練: アーキタイプ固有のスキル向上経路

## 8. 結論

アーキタイプシステムは、軍事シミュレーションにおける個々のエージェントの行動や成長に深みと多様性をもたらします。様々な性格タイプを組み合わせることで、より現実的かつ複雑な組織ダイナミクスを再現し、訓練シナリオや戦術分析に有用な洞察を提供します。
